"use strict";require("@babel/polyfill");var _mapbox=require("./mapbox"),_login=require("./login"),_updateSettings=require("./updateSettings"),mapBox=document.getElementById("map"),loginForm=document.querySelector(".form--login"),logOutBtn=document.querySelector(".nav__el--logout"),userDataForm=document.querySelector(".form-user-data"),userPasswordForm=document.querySelector(".form-user-password");if(mapBox){var locations=JSON.parse(mapBox.dataset.locations);(0,_mapbox.displayMap)(locations)}loginForm&&loginForm.addEventListener("submit",function(e){e.preventDefault();var t=document.getElementById("email").value,r=document.getElementById("password").value;(0,_login.login)(t,r)}),logOutBtn&&logOutBtn.addEventListener("click",_login.logout),userDataForm&&userDataForm.addEventListener("submit",function(e){e.preventDefault();var t=document.getElementById("name").value,r=document.getElementById("email").value;(0,_updateSettings.updateSettings)({name:t,email:r},"data")}),userPasswordForm&&userPasswordForm.addEventListener("submit",function(t){var r,n,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),document.querySelector(".btn--save-password").textContent="Updating...",r=document.getElementById("password-current").value,n=document.getElementById("password").value,o=document.getElementById("password-confirm").value,e.next=7,regeneratorRuntime.awrap((0,_updateSettings.updateSettings)({passwordCurrent:r,password:n,passwordConfirm:o},"password"));case 7:document.querySelector(".btn--save-password").textContent="Save password",document.getElementById("password-current").value="",document.getElementById("password").value="",document.getElementById("password-confirm").value="";case 11:case"end":return e.stop()}})});