"use strict";var mongoose=require("mongoose"),reviewSchema=new mongoose.Schema({review:{type:String,required:[!0,"Review can not be empty!"]},rating:{type:Number,min:1,max:5},createdAt:{type:Date,default:Date.now()},tour:{type:mongoose.Schema.ObjectId,ref:"Tour",required:[!0,"Review must be belong to a tour."]},user:{type:mongoose.Schema.ObjectId,ref:"User",required:[!0,"Review must be belong to a user."]}},{toJSON:{virtuals:!0},toObject:{virtuals:!0}});reviewSchema.pre(/^find/,function(e){this.populate({path:"user",select:"name photo"}),e()});var Review=mongoose.model("Review",reviewSchema);module.exports=Review;