"use strict";var catchAsync=require("./../utils/catchAsync"),AppError=require("./../utils/appError");exports.deleteOne=function(a){return catchAsync(function(t,r,n){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(a.findByIdAndDelete(t.params.id));case 2:if(e.sent){e.next=5;break}return e.abrupt("return",n(new AppError("No document found with that ID",404)));case 5:r.status(204).json({status:"success",requestedAt:t.requestTime,data:null});case 6:case"end":return e.stop()}})})},exports.updateOne=function(s){return catchAsync(function(t,r,n){var a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(s.findByIdAndUpdate(t.params.id,t.body,{new:!0,runValidators:!0}));case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return",n(new AppError("No document found with that ID",404)));case 5:r.status(200).json({status:"success",data:{data:a}});case 6:case"end":return e.stop()}})})},exports.createOne=function(a){return catchAsync(function(t,r){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(a.create(t.body));case 2:n=e.sent,r.status(201).json({status:"success",requestedAt:t.requestTime,data:{data:n}});case 4:case"end":return e.stop()}})})};