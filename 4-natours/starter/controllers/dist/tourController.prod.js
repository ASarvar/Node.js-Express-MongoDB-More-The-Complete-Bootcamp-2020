"use strict";var fs=require("fs"),tours=JSON.parse(fs.readFileSync("".concat(__dirname,"/../dev-data/data/tours-simple.json")));exports.checkID=function(s,t,e,u){if(1*s.params.id>tours.length)return t.status(404).json({status:"fail",message:"Invalid ID (".concat(u,")")});e()},exports.checkBody=function(s,t,e){if(!s.body.name||!s.body.price)return t.status(404).json({status:"fail",message:"Missing name or price ðŸ˜Ÿ"});e()},exports.getAllTours=function(s,t){t.status(200).json({status:"success",requestedAt:s.requestTime,results:tours.length,data:{tours:tours}})},exports.getTour=function(s,t){console.log(s.params);var e=1*s.params.id,u=tours.find(function(s){return s.id===e});t.status(200).json({status:"success",requestedAt:s.requestTime,data:{tour:u}})},exports.createTour=function(t,e){var s=tours[tours.length-1].id+1,u=Object.assign({id:s},t.body);tours.push(u),fs.writeFile("".concat(__dirname,"/dev-data/data/tours-simple.json"),JSON.stringify(tours),function(s){e.status(201).json({status:"success",requestedAt:t.requestTime,data:{tour:u}})})},exports.updateTour=function(s,t){t.status(200).json({status:"success",data:{tour:"<Updated tour here>"}})},exports.deleteTour=function(s,t){t.status(200).json({status:"success",requestedAt:s.requestTime,data:null})};